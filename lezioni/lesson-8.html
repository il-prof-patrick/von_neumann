<div id="lesson-8-view" class="w-full max-w-5xl mx-auto animate-fade-in z-10">
			<!-- Intestazione -->
			<div class="mb-12 border-b border-white/10 pb-6 flex items-center justify-between">
				<div>
					<span class="text-neon-teal font-mono text-sm tracking-widest">LEZIONE 08</span>
					<h1 class="text-4xl md:text-5xl font-bold text-white mt-2">Il BUS</h1>
					<p class="text-gray-400 mt-4 text-lg">La comunicazione all’interno del computer</p>
				</div>
				<div class="md:block text-neon-teal/20 animate-pulse-slow">
					<i data-lucide="network" class="w-24 h-24"></i>
				</div>
			</div>

			<!-- Cos'è il Bus -->
			<section class="mb-16">
				<div
					class="bg-dark-card border border-white/5 rounded-3xl p-8 hover:border-neon-teal/30 transition-all">
					<div class="flex flex-col md:flex-row gap-12 items-center">
						<div class="md:w-3/5 space-y-6">
							<p class="text-gray-300 leading-relaxed text-lg text-justify">
								Il Bus è un componente hardware fondamentale che permette la comunicazione tra
								CPU, memoria RAM e periferiche di input/output. Senza di esso, i vari
								componenti non potrebbero scambiarsi informazioni e il computer non
								funzionerebbe. Dati e istruzioni, rappresentati come sequenze di 0 e 1,
								viaggiano lungo il bus sotto forma di impulsi elettrici: in pratica,
								il bus è l’insieme dei circuiti che rendono possibile lo scambio di
								informazioni tra tutte le parti del sistema.
							</p>
						</div>
						<div
							class="md:w-2/5 bg-gray-900 p-4 rounded-xl border border-white/10 group relative overflow-hidden">
							<img src="img/bus.jpg" alt="Computer Bus Illustration"
								class="w-full rounded-lg shadow-2xl group-hover:scale-110 transition-transform duration-700">
							<p class="text-center text-[10px] text-gray-500 font-mono mt-4 tracking-widest">
								Le piste che formano il bus</p>
						</div>
					</div>
				</div>
			</section>

			<!-- Tipi di Bus -->
			<section class="mb-16">
				<h2 class="text-3xl font-bold text-white mb-8 border-l-4 border-neon-teal pl-6">Tipi di bus</h2>
				<p class="text-gray-400 mb-8 text-lg">A seconda dei componenti che collegano, si distinguono diversi
					tipi di bus:</p>
				<div class="grid md:grid-cols-2 gap-8">
					<div
						class="bg-dark-lighter p-8 rounded-2xl border-l-4 border-neon-blue space-y-4 hover:bg-white/5 transition-colors">
						<h3 class="text-2xl font-bold text-neon-blue flex items-center gap-3">
							<i data-lucide="cpu"></i> Bus di sistema
						</h3>
						<p class="text-gray-300 leading-relaxed text-justify">
							Collega la CPU alla memoria RAM ed è essenziale per l’esecuzione dei programmi, poiché
							consente alla CPU di leggere istruzioni e dati dalla memoria e di scrivere i risultati delle
							elaborazioni.
						</p>
					</div>
					<div
						class="bg-dark-lighter p-8 rounded-2xl border-l-4 border-neon-purple space-y-4 hover:bg-white/5 transition-colors">
						<h3 class="text-2xl font-bold text-neon-purple flex items-center gap-3">
							<i data-lucide="plug"></i> Bus di espansione
						</h3>
						<p class="text-gray-300 leading-relaxed text-justify">
							Collega il computer alle periferiche e ai dispositivi di input/output
							ed è essenziale per il funzionamento del sistema, poiché permette alla CPU di
							inviare comandi, trasferire dati e ricevere informazioni dallo stato delle periferiche.
						</p>
					</div>
				</div>
			</section>

			<!-- Le linee del bus di sistema -->
			<section class="mb-8">
				<h2 class="text-3xl font-bold text-white mb-8 border-l-4 border-neon-teal pl-6">Le linee del bus di
					sistema</h2>
				<div class="bg-dark-card border border-white/5 rounded-3xl p-8 transition-all">
					<p class="text-gray-300 mb-8 leading-relaxed text-justify">Il bus di sistema non è un canale unico,
						ma è suddiviso in diversi tipi di linee. Ciascuna trasmette impulsi elettrici, ma essi
						rappresentano informazioni diverse:</p>
					<div class="grid md:grid-cols-3 gap-8">
						<div
							class="p-6 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 transition-colors">
							<h4 class="text-neon-teal font-bold mb-2 flex items-center gap-2">
								<i data-lucide="binary"></i> Linee di dati
							</h4>
							<p class="text-gray-400 text-sm">Trasportano i dati
								e le istruzioni.</p>
						</div>
						<div
							class="p-6 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 transition-colors">
							<h4 class="text-neon-amber font-bold mb-2 flex items-center gap-2">
								<i data-lucide="map-pin"></i> Linee di indirizzi
							</h4>
							<p class="text-gray-400 text-sm">Trasportano gli indirizzi di memoria che indicano la
								posizione dei
								dati nella memoria RAM, permettendo l'accesso casuale.</p>
						</div>
						<div
							class="p-6 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 transition-colors">
							<h4 class="text-neon-purple font-bold mb-2 flex items-center gap-2">
								<i data-lucide="settings"></i> Linee di controllo
							</h4>
							<p class="text-gray-400 text-sm">Trasportano segnali speciali che dicono ai componenti cosa
								fare e quando farlo, fungendo da coordinamento.</p>
						</div>
					</div>
					<div class="pt-10 space-y-8">
						<p class="text-gray-300 leading-relaxed text-justify">
							Queste tre tipologie di Bus vengono utilizzate ben distintamente nel processo di
							comunicazione tra
							CPU e RAM, differenziando i momenti di lettura e di scrittura.
						</p>

						<div class="grid md:grid-cols-2 gap-8 mb-2">
							<!-- Lettura -->
							<div
								class="bg-white/5 p-6 rounded-2xl border border-white/10 hover:border-neon-teal/30 transition-colors">
								<h4 class="text-white font-bold mb-4 flex items-center gap-2 text-lg">
									<i data-lucide="book-open" class="w-5 h-5 text-white"></i> Lettura dei dati
									dalla RAM
								</h4>
								<ul class="space-y-3 text-gray-300 text-sm">
									<li class="flex gap-3">
										<div class="w-1.5 h-1.5 rounded-full bg-white mt-1.5 shrink-0"></div>
										<p>La CPU pone sul <span class="text-neon-amber font-bold">bus indirizzi</span>
											l’indirizzo della cella di memoria da leggere.</p>
									</li>
									<li class="flex gap-3">
										<div class="w-1.5 h-1.5 rounded-full bg-white mt-1.5 shrink-0"></div>
										<p>Invia un segnale di lettura tramite le <span
												class="text-neon-purple font-bold">linee di controllo</span>.</p>
									</li>
									<li class="flex gap-3">
										<div class="w-1.5 h-1.5 rounded-full bg-white mt-1.5 shrink-0"></div>
										<p>La RAM legge il dato dall’indirizzo specificato e lo mette sul <span
												class="text-neon-teal font-bold">bus dati</span>.</p>
									</li>
									<li class="flex gap-3">
										<div class="w-1.5 h-1.5 rounded-full bg-white mt-1.5 shrink-0"></div>
										<p>La CPU riceve il dato dal <span class="text-neon-teal font-bold">bus
												dati</span> e lo usa per l’elaborazione.</p>
									</li>
								</ul>
							</div>
							<!-- Scrittura -->
							<div
								class="bg-white/5 p-6 rounded-2xl border border-white/10 hover:border-neon-amber/30 transition-colors">
								<h4 class="text-white font-bold mb-4 flex items-center gap-2 text-lg">
									<i data-lucide="edit-3" class="w-5 h-5 text-white"></i> Scrittura dei dati
									nella RAM
								</h4>
								<ul class="space-y-3 text-gray-300 text-sm">
									<li class="flex gap-3">
										<div class="w-1.5 h-1.5 rounded-full bg-white mt-1.5 shrink-0"></div>
										<p>La CPU pone sul <span class="text-neon-amber font-bold">bus indirizzi</span>
											l’indirizzo della cella di memoria in cui scrivere.</p>
									</li>
									<li class="flex gap-3">
										<div class="w-1.5 h-1.5 rounded-full bg-white mt-1.5 shrink-0"></div>
										<p>Pone invece sul <span class="text-neon-teal font-bold">bus dati</span> il
											valore
											da memorizzare.</p>
									</li>
									<li class="flex gap-3">
										<div class="w-1.5 h-1.5 rounded-full bg-white mt-1.5 shrink-0"></div>
										<p>Invia un segnale di scrittura tramite le <span
												class="text-neon-purple font-bold">linee di controllo</span>.</p>
									</li>
									<li class="flex gap-3">
										<div class="w-1.5 h-1.5 rounded-full bg-white mt-1.5 shrink-0"></div>
										<p>La RAM salva il dato dalla <span class="text-neon-teal font-bold">linea
												dati</span> nella cella specificata.</p>
									</li>
								</ul>
							</div>
						</div>

						<div class="pt-0">

							<div class="relative p-0">
								<!-- Interfaccia Animazione -->
								<div class="flex justify-between items-center mb-4 relative">
									<!-- CPU -->
									<div class="z-10 group">
										<div
											class="w-24 h-24 md:w-32 md:h-32 bg-dark-lighter border-2 border-neon-blue rounded-2xl flex flex-col items-center justify-center shadow-[0_0_30px_rgba(0,243,255,0.1)] group-hover:border-neon-blue transition-all">
											<i data-lucide="cpu" class="text-neon-blue w-10 h-10 mb-2"></i>
											<span class="text-white font-bold text-xs">CPU</span>
											<div id="cpu-status"
												class="mt-2 text-[9px] text-neon-blue/60 font-mono uppercase tracking-tighter text-center leading-tight px-1">
												Attesa...</div>
										</div>
									</div>

									<!-- BUS AREA -->
									<div
										class="absolute left-32 right-[148px] top-1/2 -translate-y-1/2 flex flex-col justify-center space-y-8">
										<!-- Address Bus -->
										<div class="relative">
											<div
												class="flex justify-between text-[10px] font-mono text-neon-amber mb-1 uppercase tracking-widest px-8 md:px-24">
												<span>Bus Indirizzi</span>
												<span id="addr-bus-status">Inattivo</span>
											</div>
											<div id="addr-wire" class="bus-wire">
												<div id="packet-addr" class="data-packet packet-addr">0x0000</div>
											</div>
										</div>

										<!-- Data Bus -->
										<div class="relative">
											<div
												class="flex justify-between text-[10px] font-mono text-neon-teal mb-1 uppercase tracking-widest px-8 md:px-24">
												<span>Bus Dati</span>
												<span id="data-bus-status">Inattivo</span>
											</div>
											<div id="data-wire" class="bus-wire">
												<div id="packet-data" class="data-packet packet-data">00000000</div>
											</div>
										</div>

										<!-- Control Bus -->
										<div class="relative">
											<div
												class="flex justify-between text-[10px] font-mono text-neon-purple mb-1 uppercase tracking-widest px-8 md:px-24">
												<span>Bus Controllo</span>
												<span id="control-bus-status">Inattivo</span>
											</div>
											<div id="control-wire" class="bus-wire">
												<div id="packet-control" class="data-packet packet-control">READ</div>
											</div>
										</div>
									</div>

									<!-- RAM (MEMORY STACK) -->
									<div class="z-10 group flex flex-col items-center">
										<div
											class="w-full bg-dark-lighter px-4 py-1 border border-neon-amber/30 rounded-t-lg border-b-0 text-center">
											<span class="text-white font-bold text-[9px] uppercase tracking-widest">RAM
												Module</span>
										</div>
										<div id="bus-mem-stack"
											class="memory-stack mb-2 shadow-[0_0_20px_rgba(251,191,36,0.1)] group-hover:border-neon-amber transition-all rounded-t-none">
											<!-- Cells will be generated by JS, but here are some for initial view -->
											<div class="stack-cell" id="cell-0x07">
												<div class="stack-cell-addr">0x07</div>
												<div class="stack-cell-data">10100111</div>
											</div>
											<div class="stack-cell" id="cell-0x06">
												<div class="stack-cell-addr">0x06</div>
												<div class="stack-cell-data">00110011</div>
											</div>
											<div class="stack-cell shadow-[inset_0_0_10px_rgba(251,191,36,0.1)]"
												id="cell-0x05">
												<div class="stack-cell-addr">0x05</div>
												<div class="stack-cell-data">11110000</div>
											</div>
											<div class="stack-cell" id="cell-0x04">
												<div class="stack-cell-addr">0x04</div>
												<div class="stack-cell-data">00001111</div>
											</div>
											<div class="stack-cell" id="cell-0x03">
												<div class="stack-cell-addr">0x03</div>
												<div class="stack-cell-data">10110010</div>
											</div>
											<div class="stack-cell" id="cell-0x02">
												<div class="stack-cell-addr">0x02</div>
												<div class="stack-cell-data">01010101</div>
											</div>
											<div class="stack-cell" id="cell-0x01">
												<div class="stack-cell-addr">0x01</div>
												<div class="stack-cell-data">11001100</div>
											</div>
											<div class="stack-cell" id="cell-0x00">
												<div class="stack-cell-addr">0x00</div>
												<div class="stack-cell-data">01101001</div>
											</div>
										</div>
										<div id="ram-status"
											class="text-[9px] text-neon-amber/60 font-mono tracking-tighter text-center leading-tight px-1">
											Pronta</div>
									</div>
								</div>

								<!-- Controlli -->
								<div class="flex flex-col items-center gap-2">
									<div class="flex flex-wrap justify-center gap-6">
										<button id="start-bus-read" onclick="runBusCycle('read')"
											class="px-5 py-2 bg-transparent border border-neon-teal/30 text-neon-teal/80 rounded-lg text-xs font-bold hover:bg-neon-teal/10 hover:border-neon-teal hover:text-white transition-all flex items-center gap-2 group min-w-[140px] justify-center uppercase tracking-wider">
											<i data-lucide="eye" class="w-4 h-4"></i> Lettura
										</button>
										<button id="start-bus-write" onclick="runBusCycle('write')"
											class="px-5 py-2 bg-transparent border border-neon-amber/30 text-neon-amber/80 rounded-lg text-xs font-bold hover:bg-neon-amber/10 hover:border-neon-amber hover:text-white transition-all flex items-center gap-2 group min-w-[140px] justify-center uppercase tracking-wider">
											<i data-lucide="edit-3" class="w-4 h-4"></i> Scrittura
										</button>
									</div>
									<p id="bus-sim-log"
										class="text-white font-mono text-[10px] md:text-xs font-bold text-center w-full max-w-md h-16 flex items-center justify-center bg-black/40 px-4 py-2 rounded-lg border border-white/10 shadow-[0_0_10px_rgba(255,255,255,0.05)]">
										In attesa di input...</p>
								</div>
							</div>
						</div>
			</section>

			<!-- Prestazioni del bus -->
			<section class="mb-8">
				<h2 class="text-3xl font-bold text-white mb-8 border-l-4 border-neon-teal pl-6">Come si misurano le
					prestazioni del bus</h2>
				<div class="bg-gradient-to-br from-dark-lighter to-dark-bg p-8 rounded-3xl border border-white/10">
					<div class="space-y-8 mb-4">
						<p class="text-gray-300 leading-relaxed text-lg text-justify w-full">
							Le prestazioni di un bus si valutano principalmente attraverso due caratteristiche
							fondamentali:
							l'ampiezza e la velocità. A partire da queste due caratteristiche, si può calcolare
							la capacità di trasferimento di dati (Throughput).
						</p>
						<div class="grid md:grid-cols-3 gap-6">
							<div
								class="p-6 bg-white/5 rounded-2xl border-l-4 border-neon-teal hover:bg-white/10 transition-colors">
								<h4 class="text-white font-bold mb-2 flex items-center gap-2">
									<i data-lucide="expand" class="w-4 h-4 text-neon-teal"></i> Ampiezza
								</h4>
								<p class="text-gray-400 text-sm">Indica il numero di bit trasferiti in una singola
									trasmissione (tipicamente la lunghezza della parola).</p>
							</div>
							<div
								class="p-6 bg-white/5 rounded-2xl border-l-4 border-neon-teal hover:bg-white/10 transition-colors">
								<h4 class="text-white font-bold mb-2 flex items-center gap-2">
									<i data-lucide="zap" class="w-4 h-4 text-neon-teal"></i> Velocità
								</h4>
								<p class="text-gray-400 text-sm">Indica il numero di trasferimenti svolti in un secondo,
									misurata in Hertz (Hz).</p>
							</div>
							<div
								class="p-6 bg-white/5 rounded-2xl border-l-4 border-neon-teal hover:bg-white/10 transition-colors">
								<h4 class="text-white font-bold mb-2 flex items-center gap-2">
									<i data-lucide="activity" class="w-4 h-4 text-neon-teal"></i> Throughput
								</h4>
								<p class="text-gray-400 text-sm">La banda complessiva, calcolata come il prodotto tra
									ampiezza e velocità.</p>
							</div>
						</div>
					</div>

					<div class="mt-2 space-y-8">
						<div class="space-y-4">
							<div class="text-neon-teal font-mono tracking-wide text-base font-bold">
								I PC moderni hanno:
							</div>
							<div
								class="grid md:grid-cols-3 divide-x divide-white/20 text-neon-teal font-mono tracking-wide text-sm">
								<div class="text-justify px-6">
									Un'ampiezza del bus di 64 bit.
								</div>
								<div class="text-justify px-6">
									Una velocità per i bus di sistema tra 2 e 8 GHz, mentre i bus di espansione tra 1 e
									4 GHz.
								</div>
								<div class="text-justify px-6">
									Un throughput per i bus di sistema tra 16 e 64 GB/s, mentre per i bus di espansione
									tra 8 e 32 GB/s.
								</div>
							</div>
						</div>
						<div
							class="bg-neon-red/10 border border-neon-red/30 p-5 rounded-2xl text-justify text-base flex flex-col lg:flex-row items-center gap-8">
							<div class="flex-1 text-gray-200 leading-relaxed">
								Il bus rappresenta un possibile <b>collo di bottiglia</b> (bottleneck): anche se la
								CPU
								e la RAM sono estremamente veloci, un bus con ampiezza o velocità limitata può
								strozzare
								il flusso di dati, limitando drasticamente le prestazioni complessive dell'intero
								computer.
							</div>
							<!-- Schema Collo di Bottiglia Ottimizzato -->
							<div
								class="shadow-2xl">
								<svg viewBox="0 0 200 100" class="w-full h-full">
									<!-- Bottiglia/Condotto -->
									<path d="M10,20 L80,20 L120,40 L190,40 L190,60 L120,60 L80,80 L10,80 Z" fill="none"
										stroke="rgba(239, 68, 68, 0.6)" stroke-width="3" />

									<!-- Pacchetti entranti -->
									<g class="animate-pulse">
										<rect x="20" y="30" width="12" height="8" fill="#fbbf24" rx="1" />
										<rect x="45" y="45" width="12" height="8" fill="#fbbf24" rx="1" />
										<rect x="25" y="65" width="12" height="8" fill="#fbbf24" rx="1" />
										<rect x="60" y="35" width="12" height="8" fill="#fbbf24" rx="1" />
										<rect x="55" y="70" width="12" height="8" fill="#fbbf24" rx="1" />
									</g>

									<!-- Strizzatura -->
									<line x1="80" y1="20" x2="120" y2="40" stroke="#ef4444" stroke-width="1.5"
										stroke-dasharray="3,3" />
									<line x1="80" y1="80" x2="120" y2="60" stroke="#ef4444" stroke-width="1.5"
										stroke-dasharray="3,3" />

									<!-- Pacchetti uscenti -->
									<rect x="150" y="46" width="14" height="8" fill="#ef4444" rx="1">
										<animate attributeName="x" from="120" to="180" dur="2.5s"
											repeatCount="indefinite" />
										<animate attributeName="opacity" values="0;1;0" dur="2.5s"
											repeatCount="indefinite" />
									</rect>
								</svg>
							</div>
						</div>
					</div>


				</div>
			</section>

			<!-- Conclusione Lezione -->
			<div class="flex justify-between mt-12 pt-8 border-t border-white/10">
				<button onclick="navigateTo('lesson-7')"
					class="flex items-center gap-2 text-gray-400 hover:text-white transition-colors">
					<i data-lucide="arrow-left"></i> Precedente: La Memoria ROM
				</button>
				<button onclick="navigateTo('lesson-9')"
					class="flex items-center gap-2 text-neon-amber hover:text-white font-bold transition-colors">
					Prossima: Memorie di Massa <i data-lucide="arrow-right"></i>
				</button>
			</div>
		</div>
